<html>
  <head>
  </head>
  <body>
    <ul>
    </ul>
  <script>
    const socket = new WebSocket(window.document.location.origin.replace('http', 'ws'));
    const ul = document.querySelector('ul');

    socket.addEventListener('message', (ev)=> {
      ul.innerHTML = '';
      JSON.parse(ev.data).forEach( score => {
        console.log(score);
        ul.innerHTML += `<li>${ JSON.parse(score.user).name }(${ score.score })</li>`;
      });
    });
  </script>
  </body>
</html>
